"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var indexOfEnd=function(e,t){var n=e.indexOf(t);return-1===n?-1:n+t.length},lastIndexOfEnd=function(e,t){var n=e.lastIndexOf(t);return-1===n?-1:n+t.length},getNodeIndex=function(e,t,n){var d=!1,o=0,r=!0,i=!1,l=void 0;try{for(var a,c=e.childNodes.values()[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){if(-1!==a.value.textContent.search(t)&&(d=o,""===e.childNodes[d].textContent&&(d=o-1),n))break;o++}}catch(e){i=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw l}}return d},getNodeTextIndex=function(e,t,n,d,o){var r=e.childNodes[t].textContent;return r=!0===d&&!0===o?r.indexOf(n):!0===d&&!1===o?indexOfEnd(r,n):!1===d&&!0===o?r.lastIndexOf(n):lastIndexOfEnd(r,n)},getChildNodes=function e(t,n,d,o,r,i,l){return 0!==t.childNodes.length?(n=getNodeIndex(t,o,l),d=getNodeTextIndex(t,n,o,r,i),e(t=t.childNodes[n],n,d,o,l)):[t,d]},contentEditableCaret=function(e,t){var n,d=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];if(void 0!==t&&!1!==(n=getNodeIndex(e,t,r))){var i=getNodeTextIndex(e,n,t,d,o),l=e.childNodes[n];l=getChildNodes(l,n,i,t,d,o,r);var a=document.createRange(),c=window.getSelection();a.setStart(l[0],l[1]),a.collapse(!0),c.removeAllRanges(),c.addRange(a),e.focus()}};exports.default=contentEditableCaret;